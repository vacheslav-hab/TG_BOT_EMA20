# TG_BOT_EMA20 - Telegram Bot EMA20 Trading Signals

Telegram-–±–æ—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω–æ–≥–æ —Ä—ã–Ω–∫–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ —Å –ø–æ–ª–Ω—ã–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º TP/SL —É—Ä–æ–≤–Ω–µ–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º–∏.

## ‚ö†Ô∏è –í–∞–∂–Ω–æ
–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ "—Ç–æ–ª—å–∫–æ –∞–Ω–∞–ª–∏–∑" - –æ–Ω –ù–ï –∏—Å–ø–æ–ª–Ω—è–µ—Ç —Å–¥–µ–ª–∫–∏.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ 70 —Ç–æ–ø —Ñ—å—é—á–µ—Ä—Å–æ–≤ –Ω–∞ BingX
- –ê–Ω–∞–ª–∏–∑ EMA20 –Ω–∞ 1h —Ç–∞–π–º—Ñ—Ä–µ–π–º–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ LONG/SHORT —Å–∏–≥–Ω–∞–ª–æ–≤
- **‚úÖ –ü–æ–ª–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ TP1/TP2/SL —É—Ä–æ–≤–Ω–µ–π**
- **‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–∫—Ä—ã—Ç–∏–∏ –ø–æ–∑–∏—Ü–∏–π**
- **‚úÖ PnL —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –≤–∏–Ω—Ä–µ–π—Ç**
- **‚úÖ –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π**
- **‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**
- Cooldown –º–µ–∂–¥—É —Å–∏–≥–Ω–∞–ª–∞–º–∏ (60 –º–∏–Ω)

## üéØ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
- `/start` - –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Å–∏–≥–Ω–∞–ª—ã
- `/status` - –°—Ç–∞—Ç—É—Å –±–æ—Ç–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- `/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
- `/subscribers` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
- `/export_subscribers` - –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
- `/help` - –ü–æ–¥—Ä–æ–±–Ω–∞—è –ø–æ–º–æ—â—å

## üìà –¢–æ—Ä–≥–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
**–£—Å–ª–æ–≤–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤:**
- **LONG:** —Ü–µ–Ω–∞ > EMA20, EMA20 —Ä–∞—Å—Ç–µ—Ç, –∫–∞—Å–∞–Ω–∏–µ —Å–Ω–∏–∑—É
- **SHORT:** —Ü–µ–Ω–∞ < EMA20, EMA20 –ø–∞–¥–∞–µ—Ç, –∫–∞—Å–∞–Ω–∏–µ —Å–≤–µ—Ä—Ö—É

**–£—Ä–æ–≤–Ω–∏ —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞:**
- **LONG:** SL -1%, TP1 +1.5%, TP2 +3%
- **SHORT:** SL +1%, TP1 -1.5%, TP2 -3%

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–∑–∏—Ü–∏–π:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ TP1, TP2, SL
- –†–∞—Å—á–µ—Ç PnL –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

## üìé –£—Å—Ç–∞–Ω–æ–≤–∫–∞
1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pip install -r requirements.txt`
3. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å

## üîß –ó–∞–ø—É—Å–∫
```bash
python main.py
```

### üîß –®–∞–≥–∏ –∑–∞–ø—É—Å–∫–∞
1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** - –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ API –∫–ª—é—á–µ–π
2. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ BingX** - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è API –∫–ª–∏–µ–Ω—Ç–∞
3. **–ó–∞–≥—Ä—É–∑–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤** - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–ø 70 —Ñ—å—é—á–µ—Ä—Å–æ–≤ –ø–æ –æ–±—ä–µ–º—É
4. **–ó–∞–ø—É—Å–∫ Telegram –±–æ—Ç–∞** - –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥ –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
5. **–û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª** - –Ω–∞—á–∞–ª–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä—ã–Ω–∫–∞ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥

### üìä –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
```
2025-09-14 10:00:00 [INFO] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è TradingBot
2025-09-14 10:00:00 [INFO] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è SubscribersManager: subscribers.json
2025-09-14 10:00:01 [INFO] –ó–∞–ø—É—Å–∫ Telegram Bot EMA20...
2025-09-14 10:00:02 [INFO] Webhook —É–¥–∞–ª–µ–Ω, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ polling
2025-09-14 10:00:02 [INFO] ‚úÖ Telegram –±–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω –∏ —Å–ª—É—à–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
2025-09-14 10:00:03 [INFO] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–ø —Å–∏–º–≤–æ–ª–æ–≤ –ø–æ –æ–±—ä–µ–º—É...
2025-09-14 10:00:05 [INFO] –û–±–Ω–æ–≤–ª–µ–Ω–æ 70 —Å–∏–º–≤–æ–ª–æ–≤
2025-09-14 10:00:05 [INFO] –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω
2025-09-14 10:00:35 [INFO] –ü–æ–ª—É—á–µ–Ω–æ OHLCV: 70, —Ç–∏–∫–µ—Ä–æ–≤: 70, –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤: 0, –ø–æ–∑–∏—Ü–∏–π: 0
```

## üí¨ –ü—Ä–∏–º–µ—Ä—ã —Å–æ–æ–±—â–µ–Ω–∏–π

### üöÄ –°–∏–≥–Ω–∞–ª LONG
```
üöÄ LONG BTC-USDT

üìç Entry: $63420.000000
üõë Stop Loss: $62787.000000
üéØ Take Profit 1: $64371.000000
üéØ Take Profit 2: $65323.000000

üìà Risk/Reward: 1:1.5
‚è∞ 10:30:45

‚ö†Ô∏è –ù–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Å–æ–≤–µ—Ç—ã!
```

### üî¥ –°–∏–≥–Ω–∞–ª SHORT
```
üî¥ SHORT ETH-USDT

üìç Entry: $3420.000000
üõë Stop Loss: $3454.000000
üéØ Take Profit 1: $3369.000000
üéØ Take Profit 2: $3318.000000

üìà Risk/Reward: 1:1.5
‚è∞ 10:30:45

‚ö†Ô∏è –ù–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Å–æ–≤–µ—Ç—ã!
```

### üéØ –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ TP1
```
üéØ Take Profit 1 –¥–æ—Å—Ç–∏–≥–Ω—É—Ç!

üìä LONG BTC-USDT
üìç –¶–µ–Ω–∞: $64371.000000
üíö PnL: +1.50%
‚è∞ 11:15:30

‚ö†Ô∏è –ü–æ–∑–∏—Ü–∏—è —á–∞—Å—Ç–∏—á–Ω–æ –∑–∞–∫—Ä—ã—Ç–∞
```

### üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ TP2
```
üèÜ Take Profit 2 –¥–æ—Å—Ç–∏–≥–Ω—É—Ç!

üìä LONG BTC-USDT
üìç –¶–µ–Ω–∞: $65323.000000
üíö PnL: +3.00%
‚è∞ 12:45:20

‚ö†Ô∏è –ü–æ–∑–∏—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∞
```

### üõë –°—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ SL
```
üõë Stop Loss –¥–æ—Å—Ç–∏–≥–Ω—É—Ç!

üìä SHORT ETH-USDT
üìç –¶–µ–Ω–∞: $3454.000000
‚ùå PnL: -1.00%
‚è∞ 09:20:15

‚ö†Ô∏è –ü–æ–∑–∏—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∞
```

## üìö –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### üì¶ –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏
- `main.py` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è
- `exchange.py` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å BingX API
- `strategy.py` - EMA20 —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤
- **`position_manager.py`** - **–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ TP/SL –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**
- `bot.py` - Telegram –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥
- `subscribers_manager.py` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º–∏
- `config.py` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- `database.py` - JSON —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π

### üåê –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö
1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** (30 —Å–µ–∫) ‚Üí BingX API ‚Üí OHLCV + —Ç–∏–∫–µ—Ä—ã
2. **–ê–Ω–∞–ª–∏–∑** ‚Üí EMA20 —Ä–∞—Å—á–µ—Ç ‚Üí –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–∞—Å–∞–Ω–∏–π
3. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è** ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤ ‚Üí –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ–∑–∏—Ü–∏–π** ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ TP/SL ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
5. **–†–∞—Å—Å—ã–ª–∫–∞** ‚Üí Telegram Bot ‚Üí –ø–æ–¥–ø–∏—Å—á–∏–∫–∏

## üìã –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### ‚úÖ –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ (100%)
```bash
# –£–Ω–∏—Ç-—Ç–µ—Å—Ç—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
python -m pytest test_strategy.py -v

# –£–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–π
python -m pytest test_position_manager.py -v

# –£–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
python -m pytest test_subscribers_manager.py -v

# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å–∏—Å—Ç–µ–º—ã
python -m pytest test_system_integration.py -v

# –í—Å–µ —Ç–µ—Å—Ç—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
python -m pytest test_*.py -v
```

### üîç –î–µ–º–æ —Ä–µ–∂–∏–º
```bash
# –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
python demo_strategy.py

# –û—Ç–ª–∞–¥–∫–∞ BingX API
python debug_api_raw.py
```